<template>
    <lightning-card title="Opportunity Data Table By week">
        <template for:each={opportunityMap} for:item="mapData"> 
            <div key={mapData.week}>
                <div class="slds-m-top_small slds-m-bottom_medium">
                    <lightning-button variant="brand"   label={mapData.week} title="show " onclick={handleClick} class="slds-m-left_x-small">
                    </lightning-button>
                </div>  
                {mapData.isvisible}
                <template if:true={mapData.isvisible}> 
                    <lightning-datatable
                        key-field={mapData.week}
                        data={mapData.opportunities}
                        columns={columns}
                        hide-checkbox-column="true">
                    </lightning-datatable>
                </template>
            </div>
        </template>
    </lightning-card>
</template>